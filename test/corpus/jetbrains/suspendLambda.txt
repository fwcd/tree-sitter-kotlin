==================
suspendLambda
==================

package test

class SuspendLambda {
    fun <T> (suspend () -> T).createCoroutine1(completion: Continuation<T>) {}

    fun <R, T> (suspend R.() -> T).createCoroutine2(receiver: R, completion: Continuation<T>) {}

    fun <R, T> (suspend @receiver:A R.() -> T).createCoroutineAnother() {}

    fun <T> testCoroutine(f: suspend (Int) -> T?) {}

    fun <T> testCoroutineWithAnnotation(f: suspend (Int) -> @A T?) {}

    var nullableSuspend: (suspend (P) -> Unit)? = null
    var nullableSuspendWithReceiver: (suspend RS.(P) -> Unit)? = null
    var nullableSuspendWithNullableParameter: (suspend (P?) -> Unit)? = null
    var nullableSuspendWithNullableReceiver: (suspend RS?.(P) -> Unit)? = null

    var nullableSuspendWithAnnotation: (@A() suspend (P) -> Unit)? = null

    fun override(p: String, b: (suspend (P) -> Unit)) = null
    fun override(b: (suspend (P) -> Unit)) = null

    fun annotatedReturnSuspend(): @A suspend (P) -> Unit = {}
    fun returnSuspend(): suspend (P) -> Unit = {}
}

interface P
interface RS

@Target(AnnotationTarget.TYPE, AnnotationTarget.VALUE_PARAMETER)
annotation class A

class Continuation<T> {}
---

(source_file
  (package_header
    (identifier
      (simple_identifier)))
  (class_declaration
    (type_identifier)
    (class_body
      (function_declaration
        (type_parameters
          (type_parameter
            (type_identifier)))
        receiver: (receiver_type
          (parenthesized_type
            (type_modifiers)
            (function_type
              (function_type_parameters)
              (user_type
                (type_identifier)))))
        (simple_identifier)
        (function_value_parameters
          (parameter
            (simple_identifier)
            (user_type
              (type_identifier)
              (type_arguments
                (type_projection
                  (user_type
                    (type_identifier)))))))
        (function_body))
      (function_declaration
        (type_parameters
          (type_parameter
            (type_identifier))
          (type_parameter
            (type_identifier)))
        receiver: (receiver_type
          (parenthesized_type
            (type_modifiers)
            (function_type
              receiver: (receiver_type
                (user_type
                  (type_identifier)))
              (function_type_parameters)
              (user_type
                (type_identifier)))))
        (simple_identifier)
        (function_value_parameters
          (parameter
            (simple_identifier)
            (user_type
              (type_identifier)))
          (parameter
            (simple_identifier)
            (user_type
              (type_identifier)
              (type_arguments
                (type_projection
                  (user_type
                    (type_identifier)))))))
        (function_body))
      (function_declaration
        (type_parameters
          (type_parameter
            (type_identifier))
          (type_parameter
            (type_identifier)))
        receiver: (receiver_type
          (parenthesized_type
            (type_modifiers)
            (function_type
              receiver: (receiver_type
                (type_modifiers
                  (annotation
                    (use_site_target)
                    (user_type
                      (type_identifier))))
                (user_type
                  (type_identifier)))
              (function_type_parameters)
              (user_type
                (type_identifier)))))
        (simple_identifier)
        (function_value_parameters)
        (function_body))
      (function_declaration
        (type_parameters
          (type_parameter
            (type_identifier)))
        (simple_identifier)
        (function_value_parameters
          (parameter
            (simple_identifier)
            (type_modifiers)
            (function_type
              (function_type_parameters
                (user_type
                  (type_identifier)))
              (nullable_type
                (user_type
                  (type_identifier))))))
        (function_body))
      (function_declaration
        (type_parameters
          (type_parameter
            (type_identifier)))
        (simple_identifier)
        (function_value_parameters
          (parameter
            (simple_identifier)
            (type_modifiers)
            (function_type
              (function_type_parameters
                (user_type
                  (type_identifier)))
              (type_modifiers
                (annotation
                  (user_type
                    (type_identifier))))
              (nullable_type
                (user_type
                  (type_identifier))))))
        (function_body))
      (property_declaration
        (binding_pattern_kind)
        (variable_declaration
          (simple_identifier)
          (nullable_type
            (parenthesized_type
              (type_modifiers)
              (function_type
                (function_type_parameters
                  (user_type
                    (type_identifier)))
                (user_type
                  (type_identifier))))))
        (null_literal))
      (property_declaration
        (binding_pattern_kind)
        (variable_declaration
          (simple_identifier)
          (nullable_type
            (parenthesized_type
              (type_modifiers)
              (function_type
                receiver: (receiver_type
                  (user_type
                    (type_identifier)))
                (function_type_parameters
                  (user_type
                    (type_identifier)))
                (user_type
                  (type_identifier))))))
        (null_literal))
      (property_declaration
        (binding_pattern_kind)
        (variable_declaration
          (simple_identifier)
          (nullable_type
            (parenthesized_type
              (type_modifiers)
              (function_type
                (function_type_parameters
                  (nullable_type
                    (user_type
                      (type_identifier))))
                (user_type
                  (type_identifier))))))
        (null_literal))
      (property_declaration
        (binding_pattern_kind)
        (variable_declaration
          (simple_identifier)
          (nullable_type
            (parenthesized_type
              (type_modifiers)
              (function_type
                receiver: (receiver_type
                  (nullable_type
                    (user_type
                      (type_identifier))))
                (function_type_parameters
                  (user_type
                    (type_identifier)))
                (user_type
                  (type_identifier))))))
        (null_literal))
      (property_declaration
        (binding_pattern_kind)
        (variable_declaration
          (simple_identifier)
          (nullable_type
            (parenthesized_type
              (type_modifiers
                (annotation
                  (constructor_invocation
                    (user_type
                      (type_identifier))
                    (value_arguments))))
              (function_type
                (function_type_parameters
                  (user_type
                    (type_identifier)))
                (user_type
                  (type_identifier))))))
        (null_literal))
      (function_declaration
        (simple_identifier)
        (function_value_parameters
          (parameter
            (simple_identifier)
            (user_type
              (type_identifier)))
          (parameter
            (simple_identifier)
            (parenthesized_type
              (type_modifiers)
              (function_type
                (function_type_parameters
                  (user_type
                    (type_identifier)))
                (user_type
                  (type_identifier))))))
        (function_body
          (null_literal)))
      (function_declaration
        (simple_identifier)
        (function_value_parameters
          (parameter
            (simple_identifier)
            (parenthesized_type
              (type_modifiers)
              (function_type
                (function_type_parameters
                  (user_type
                    (type_identifier)))
                (user_type
                  (type_identifier))))))
        (function_body
          (null_literal)))
      (function_declaration
        (simple_identifier)
        (function_value_parameters)
        (type_modifiers
          (annotation
            (user_type
              (type_identifier))))
        (function_type
          (function_type_parameters
            (user_type
              (type_identifier)))
          (user_type
            (type_identifier)))
        (function_body
          (lambda_literal)))
      (function_declaration
        (simple_identifier)
        (function_value_parameters)
        (type_modifiers)
        (function_type
          (function_type_parameters
            (user_type
              (type_identifier)))
          (user_type
            (type_identifier)))
        (function_body
          (lambda_literal)))))
  (class_declaration
    (type_identifier))
  (class_declaration
    (type_identifier))
  (class_declaration
    (modifiers
      (annotation
        (constructor_invocation
          (user_type
            (type_identifier))
          (value_arguments
            (value_argument
              (navigation_expression
                (simple_identifier)
                (navigation_suffix
                  (simple_identifier))))
            (value_argument
              (navigation_expression
                (simple_identifier)
                (navigation_suffix
                  (simple_identifier)))))))
      (class_modifier))
    (type_identifier))
  (class_declaration
    (type_identifier)
    (type_parameters
      (type_parameter
        (type_identifier)))
    (class_body)))
